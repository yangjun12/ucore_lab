##练习1:实现 first-fit 连续物理内存分配算法(需要编程)
在实现first fit	内存分配算法的回收函数时,要考虑地址连续的空闲块之间的合并操作。提示:在建立空闲页块链表时,需要按照空闲页块起始地址来排序,形成一个有序的链表。
---
#实现步骤和思想
在default_pmm.c中:
default_init：
default_init_memmap:用来初始化已经分配了的块，首先声明这一块的大小应为正，另外，设置这些页应该没有被使用,那么对于每一个块，应该都有p->property=PG_property;表示可以用，然后把这些页都加到free_list里面去，并设置他们的引用次数位0.因为分配了n个页的块，所以呢，第一个块也就是base对应的那一个page的property应为n。
default_alloc_pages：分配页的时候，由于是fist fit，所以我们从低地址处开始找，第一个找到的大于或者等于n的连续内存就分配给它。这里分配两种情况，如果刚好是n，那么只需要将原来的空闲页删除（如果页的大小是n，那么需要删除n个页），另外，我们需要将这些页的是否使用标志改过来用SetPageReserved函数，另外，我们去掉页的一些属性用ClearPageProperty;然而，在一般情况，这个块的大小是要大于n的，所以，就会产生一个小的空闲块。我们
其实只需要改一下这一部分的最开始的那一页的property即可。
default_free_pages:因为分配的时候需要考虑合并，所以，我们首先将这些块恢复成为空闲块，在free_list中得到当前地址所在的位置，然后将这一部分空闲页加入进去。另外，分别从前面和后面来考虑相邻的空闲块，如果后面紧接着的那一块的第一页的地址是这个块最后一页的地址+1,那么显然只需要改一下那一页的property，而向前的话，如果有一个紧邻的页，那么我们就得知了其实是前面有一个空闲块紧邻的，所以我们需要找到前面那个空闲块的第一页，然后让那一页的property+=base->property。
#你的first fit算法是否有进一步的改进空间：
考虑这样的情况，如果我们操作次数非常多的时候，我们希望更早地得到一个空闲块，而不是很关心释放的时候的速度，那么我们知道first fit算法平均要遍历N/2个空闲块，而我们更希望第一次就找到了这个块，那么我们可以使用最差匹配算法，使得这一部分的效率提高，而最差匹配可能会使得出现非常多的小块，我们还可以用最优匹配来做，如果使用最优匹配的话，内存块的使用效率会比较高，但是维护链表的成本比first fit稍高。
---
##练习2:实现寻找虚拟地址对应的页表项(需要编程)
通过设置页表和对应的页表项,可建立虚拟内存地址和物理内存地址的对应关系。其中的get_pte函数是设置页表项环节中的
一个重要步骤。此函数找到一个虚地址对应的二级页表项的内核虚地址,如果此二级页表项不存在,则分配一个包含此项的
二级页表。本练习需要补全get_pte函数in kern/mm/pmm.c,实现其功能。
请在实验报告中简要说明你的设计实现过程。请回答如下问题:

#实现过程和思想
通过PDX(la)得到页目录项的index，另外，通过pgdir[index]得到页目录的对应内容，判断是否当前使用，用PTE_P来与，如果不能成功分配，那么返回空，
而如果可以成功分配，那么在新页上面ref++，另外，用memset初始化里面的内容，并且对它进行赋值。赋值时选择user，writable,present.


如何ucore执行过程中访问内存,出现了页访问异常,请问硬件要做哪些事情?
 ×出现了页访问异常，内核会调用异常处理程序进行处理，一般来说，访问内存最常见的异常便是地址不合法或者缺页，如果出现了缺页，硬件会读取disk并且
通过页置换算法置换页，并且修改一些标志。

如何ucore的缺页服务例程在执行过程中访问内存,出现了页访问异常,请问硬件要做哪些事情?
 ×此时会出现double fault，程序会终止。

练习3:释放某虚地址所在的页并取消对应二级页表项的映射(需要编程)
当释放一个包含某虚地址的物理内存页时,需要让对应此物理内存页的管理数据结构Page做相关的清除处理,使得此物理内
存页成为空闲;另外还需把表示虚地址与物理地址对应关系的二级页表项清除。请仔细查看和理解page_remove_pte函数中
的注释。

#实现过程和思想
首先，检查是否present使用，通过与PTE_P，如果在的话不做处理，而如果没有当前使用，那么需要判断一下page_ref减后的值是否为0,如果是零的话，就需要free_page。如果ref不是0,那么因为有可能还需要访问这里面的数据，为了避免出现访问错误，并没有free_page,但是我们也用tlb_invalidate使得这个页表项失效，赋值它为0（默认赋值）。
